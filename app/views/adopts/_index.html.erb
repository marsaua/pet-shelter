<h1 class="mb-4">Adoption Wishes</h1>

<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
<% @adopts.group_by(&:dog).each do |dog, adopts| %>
    <% next if dog.nil? %>
      <div class="col">
        <div class="card h-100 shadow-sm border-0"
             onclick="window.location='<%= dog_requests_path(dog) %>'"
             style="cursor:pointer; transition: transform 0.2s;">
             <% if dog.avatar.attached? %>
                <%= image_tag dog.avatar, height: 200, class: "object-fit-cover" %>
            <% else %>
                <%= image_tag "avatar.svg", height: 200, class: "object-fit-cover" %>
            <% end %>

          <div class="card-body">
            <h5 class="card-title text-primary"><%= dog.name %></h5>
            <p class="card-text text-muted mb-2">
              <strong>Breed:</strong> <%= dog.breed.presence || "Unknown" %>
            </p>
            <p class="card-text small text-secondary">
              <%= pluralize(adopts.count, "adoption request") %>
            </p>
          </div>

          <div class="card-footer bg-transparent border-0 text-end">
            <a href="<%= dog_requests_path(dog) %>" class="btn btn-outline-primary btn-sm">View Requests</a>
          </div>
        </div>
      </div>
  <% end %>

</div>
