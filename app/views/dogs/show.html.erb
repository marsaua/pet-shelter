<section class="back-img">
    <div class="container">
    <div class=" d-flex flex-column flex-md-row col-md-6 pt-5 align-items-center gap-5 w-100">
        <div>
            <% if @dog.avatar.attached? %>
                <%= image_tag @dog.avatar, height: 300, class: "object-fit-cover rounded-4" %>
            <% else %>
                <%= image_tag "avatar.svg", height: 300, class: "object-fit-cover rounded-4" %>
            <% end %>
        </div>
        <div>
            <h1><%= @dog.name %></h1>
            <p><span class="fw-bold">Sex:</span> <%= @dog.sex %></p>
            <p><span class="fw-bold">Age:</span> <%= @dog.age_month %> months</p>
            <p><span class="fw-bold">Size:</span> <%= @dog.size %></p>
            <p><span class="fw-bold">Breed:</span> <%= @dog.breed %></p>
            <p><span class="fw-bold">Status:</span> <%= @dog.status.humanize %></p>
            <h4>Health Status and Treatment</h4>
            <%= render "dogs/dog_health", diagnosis: @dog.diagnosis, health_status: @dog.health_status.humanize %>
            <p><span class="fw-bold">Aggressiveness:</span> <%= @dog.agressivness.humanize %></p>
            <div class="d-flex gap-2 align-items-center">
                <% if policy(@dog).update? %>
                    <%= link_to "Edit", edit_dog_path(@dog), class: "btn btn-primary" %>
                <% end %>
                <%= link_to "Back", dogs_path, class: "btn btn-secondary" %>
                <% if policy(@dog).destroy? %>
                    <%= link_to "Delete", dog_path(@dog), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}, class: "btn btn-danger" %>
                <% end %>
                <%= render "dogs/adopt_button", current_user=current_user %>
            </div>
        </div>
    </div>
    <div>
        <% if ["available_for_walk", "available"].include?(@dog.status) %>
            <%= link_to "Book a walk with this dog", new_dog_walking_reservation_path(@dog), class: "btn btn-primary" %>
        <% end %>
    </div>
    <div class="pt-5">
        <% if policy(Comment.new).create? %>
            <%= render "comments/new_comment", commentable_id: @dog.id, commentable_type: "Dog" %>
        <% end %>
        <%= render "comments/all_comments", dog: @dog %>
    </div>
</section>
